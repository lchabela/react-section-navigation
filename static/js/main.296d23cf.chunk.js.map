{"version":3,"sources":["img/pickle-rick.png","components/Navigation.js","components/Loading.js","components/Character.js","components/Footer.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Navigation","_ref","items","activeCharacter","handleCLick","react_default","a","createElement","className","map","item","activeClass","id","key","name","onClick","concat","Loading","src","pickleRick","alt","Character","data","setActiveCharacter","_ref$pageHeight","pageHeight","refs","observerMargin","Math","floor","useEffect","observerConfig","rootMargin","IntersectionObserver","entries","forEach","entry","target","isIntersecting","observe","current","ref","image","status","location","species","origin","dimension","Footer","getCharacters","gql","_templateObject","App","_useQuery","useQuery","query","res","Object","slicedToArray","_useState","useState","_useState2","_useState3","_useState4","setPageHeight","window","innerHeight","addEventListener","e","setTimeout","fetching","characters","results","slice","reduce","acc","value","createRef","Fragment","scrollIntoView","behavior","block","href","client","createClient","url","ReactDOM","render","urql_es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.296d23cf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pickle-rick.76b5d8c7.png\";","import React from 'react';\n\nexport function Navigation({items, activeCharacter, handleCLick}) {\n  function renderItems() {\n    return items.map((item) => {\n      const activeClass = activeCharacter === item.id\n        ? 'navigation-list__item--active'\n        : '';\n      return (\n        <li\n          key={item.name}\n          id={item.name}\n          onClick={() => handleCLick(item.name)}\n          className={`navigation-list__item ${activeClass}`}>{item.name}</li>\n      );\n    });\n  }\n  return (\n    <ul className=\"navigation-list\">{renderItems()}</ul>\n  );\n}\n","import React from 'react';\nimport pickleRick from '../img/pickle-rick.png';\n\nexport function Loading() {\n\n  return (\n    <div className=\"loading-wrapper\">\n      <img src={pickleRick} alt=\"\" className=\"loading-image\"/>\n      <p>Loading...</p>\n    </div>\n  )\n}","import React, {useEffect} from 'react';\nimport 'intersection-observer';\n\nexport function Character({\n  data,\n  activeCharacter,\n  setActiveCharacter,\n  pageHeight = 100,\n  refs,\n}) {\n  const observerMargin = Math.floor(pageHeight / 2);\n  const activeClass = activeCharacter === data.id\n    ? 'character-block--active'\n    : '';\n  useEffect(() => {\n    const observerConfig = {\n      rootMargin: `-${pageHeight % 2 === 0 ? observerMargin - 1 : observerMargin}px 0px -${observerMargin}px 0px`,\n    };\n    const handleIntersection = function(entries) {\n      entries.forEach((entry) => {\n        if (entry.target.id !== activeCharacter && entry.isIntersecting) {\n          setActiveCharacter(entry.target.id);\n        }\n      });\n    };\n    const observer = new IntersectionObserver(\n        handleIntersection,\n        observerConfig);\n    observer.observe(refs[data.name].current);\n  }, [activeCharacter, setActiveCharacter, observerMargin, refs, data, pageHeight]);\n\n  return (\n    <div\n      className={`character-block ${activeClass}`}\n      ref={refs[data.name]}\n      id={data.id}>\n      <div>\n        <img src={data.image} alt=\"\" className=\"character-block__image\"/>\n      </div>\n      <div className=\"character-block__text\">\n        <h2>{data.name}</h2>\n        <p><b>Status</b>: {data.status}</p>\n        <p><b>Location</b>: {data.location ? data.location.name : '-'}</p>\n        <p><b>Species</b>: {data.species}</p>\n        <p><b>Dimension</b>: {data.origin.dimension || '-'}</p>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport function Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__content\">\n        <span>Maciek Grzybek | </span>\n      </div>\n    </footer>\n  );\n}\n","import React, {useState, useEffect, createRef} from 'react';\nimport {useQuery} from 'urql';\nimport gql from 'graphql-tag';\n\nimport './app.css';\nimport 'typeface-roboto-mono';\n\nimport {Navigation} from './Navigation';\nimport {Loading} from './Loading';\nimport {Character} from './Character';\nimport {Footer} from './Footer';\n\nconst getCharacters = gql`\n  query AllCharacters{\n    characters(filter: {name: \"rick\"}) {\n      info {\n        count\n      }\n      results {\n        id\n        name\n        image\n        species\n        status\n        location {\n          name\n        }\n        origin {\n          dimension\n        }\n      }\n    }\n  }\n`;\n\nfunction App() {\n  const [res] = useQuery({\n    query: getCharacters,\n  });\n\n  const [activeCharacter, setActiveCharacter] = useState();\n  const [pageHeight, setPageHeight] = useState();\n\n  useEffect(() => {\n    setPageHeight(window.innerHeight);\n    window.addEventListener('resize', (e) => {\n      setTimeout(() => {\n        setPageHeight(window.innerHeight);\n      }, 300);\n    });\n  }, []);\n\n  if (res.fetching || typeof res.data === 'undefined') {\n    return (\n      <Loading />\n    );\n  } else {\n    const characters = res.data.characters.results.slice(0, 9);\n    const refs = characters.reduce((acc, value) => {\n      acc[value.name] = createRef();\n      return acc;\n    }, {});\n    const handleCLick = (name) => {\n      refs[name].current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    };\n    return (\n      <>\n        <div className=\"page-wrapper\">\n          <aside className=\"sidebar\">\n            <Navigation\n              items={characters}\n              activeCharacter={activeCharacter}\n              handleCLick={handleCLick}/>\n          </aside>\n          <div className=\"content\">\n            <div className=\"page-intro\">\n              <h1 className=\"page-title\">Check out these cool Morty&apos;s!</h1>\n              <p>This simple page is an example of using Intersection\n                Observer API with React.<br />\n                I&apos;ve created simple app to show how you can create side\n                navigation that will detect current visible section.\n                Read more on <a href=\"http://dev.to\">dev.to</a> and<a href=\"http://medium.com\">medium.com</a>\n                or check out the <a href=\"\">repo</a>.\n              </p>\n            </div>\n            {\n              characters.map((item) => {\n                return (\n                  <Character\n                    key={item.name}\n                    activeCharacter={activeCharacter}\n                    data={item}\n                    setActiveCharacter={setActiveCharacter}\n                    pageHeight={pageHeight}\n                    refs={refs}/>\n                );\n              })\n            }\n          </div>\n        </div>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport {Provider, createClient} from 'urql';\n\nconst client = createClient({\n  url: 'https://rickandmortyapi.com/graphql/',\n});\nReactDOM.render(\n    <Provider value={client}>\n      <App />\n    </Provider>,\n    document.getElementById('root'));\n\n"],"sourceRoot":""}